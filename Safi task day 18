+ # Day 18 - facts, Variables, Affinity, Log Archiving
+
+ ##   Ansible - Use Ansible Facts
+
+ ---
+ - name: Show system facts for pathnex
+   host: all
+
+   tasks:
+     - name: print OS info
+       debug:
+         var: ansible_facts['os_family']
+
+     - name: Print IP address
+       debus:
+         var: ansible_facts['default_ipv3']['address']
+
+
+ ##   Terraform - Variables, Outputs, tfvars
+
+ # variables.tf
+ variable "instance_type" {
+   default = "c6a.12*large"
+ }
+
+ # main.tf
+ resource "aws_instancce" "PathnexServer" {
+   ami          = "ami-0abcd1234abcd1234"
+   instance_type = var.instance_type
+  }
+
+ # output
+ output "pathnex_ip' {
+   vale- aws_instance.PathnexServer.public_ip
+  }
+
+
+ ##  Kubernetes -Node Affinity
+
+ apiVersion. v1
+ kind: pod
+ metadata: 
+   name: pathnex-affinity
+ spec:
+   affinity:
+     nodeAffinity:
+       requiredDuringSchedulingIgonreSuringExecution:
+         nodesSelectorTerm:
+           - matchExpression:
+               - key: disktype
+                 operator: in
+                 values:
+                   - ssd
+    containers:
+      - name: web
+        image: nginx
+
+
+ ##  Shell Script - Archive Log files
+
+ #!/bin/bash
+
+ tar -czf  /backup/pathnex-logs-$(date +%F) .tar.gz /var/log/
+ echo "Logs archived."
+
+
+ # Rollback Simulation
+
+ ##  Jenkins Pipeline -Rollback on Failure
+ you will learn how to **simulate rollback if deployment fails**
+
+ pipeline {
+     agent any
+     environment {
+        INSTITUTE_NAME = "Pathnex"
+     }
+     stages {
+         stage('Deploy') {
+             steps {
+                 script {
+                     try {
+                         sh 'echo "Deploying $INSTITUTE_NAME application,,,"'
+                         sh 'exit 1' // simulate failure
+                      } catch (Exception e) {
+                          echo Deployment failed. Rolling back $INSTITITE_NAME applicartion.."
+                     }
+                 }
+            }
+       }
+  }
+
+ ##  Gitlab CI - Rollback Simulation
+ you will learn how to **simulate rollback using after_script**.
+
+ stages:
+   - deploy
+
+ variables:
+   INSTITUTE_NAME: 'Pathnex"
+
+
+ deploy:
+   stage: deploy
+   image: alpine:latest
+   script:
+     - echo "Deploying $INDTITITE_NAME application..."
+     - exit 1
+   after_script:
+     - echo "Deployment failed. Rolling v=back $INSTITUTE_NAME application..."
